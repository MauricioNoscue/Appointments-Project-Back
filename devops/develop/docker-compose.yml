version: "3.9"

services:
  # ğŸŒ API principal - dev
  appointments-api-dev:
    container_name: appointments-api-dev
    build:
      context: ../../
      dockerfile: Web_back/Dockerfile
    restart: always
    env_file:
      - .env
    ports:
      - "5200:8080"
    networks:
      - appointments_network
    depends_on:
      - appointments-redis-dev
    labels:
      - com.appointments.environment=dev

  # ğŸ§  Redis (para cache y SignalR)
  appointments-redis-dev:
    image: redis:7.2
    container_name: appointments-redis-dev
    restart: always
    ports:
      - "6379:6379"
    networks:
      - appointments_network

networks:
  appointments_network:
    external: true
